<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>LYC Web App Challenge</title>

    <!------

    STILL NEEDS:
    
    + Return the resized size value and display as inches
    + Custom handles
    + Dick head positioned with shaft as parent element //
    + "Snap to increments" sliders for tightness & sensitivity
    + Radio button for "Circumcised?" toggles between shaft images
    + Radio button for "Allergic to latex?"

    ------->


    <link href='https://fonts.googleapis.com/css?family=Work+Sans:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="bower_components/dragdealer/src/dragdealer.css">
    <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css">

    <script src="bower_components/dragdealer/src/dragdealer.js"></script>
    <!--<script src="//cdn.jsdelivr.net/jquery/2.2.3/jquery.min.js"></script>-->

    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- RENDER CSS -->
    <style>
        #container {
            width: 80%;
            height: 225px;
        }

        #image {
            vertical-align: middle;
            width: 90%;
        }

        #image img {
            height: 100%;
            width: 100%
        }

        #sgrip,
        #egrip {
            width: 32px;
            height: 32px;
        }

        #sgrip {
            bottom: -25px;
            left: 50%;
            background-image: url(img/girthhandle.png);
        }

        #egrip {
            right: -45px;
            top: 40%;
            background-image: url(img/lengthhandle.png);
        }
    </style>
    <!-- RENDER CSS END -->

</head>

<body>

    <div class="section group">
        <h1>Build Your Penis</h1>
        <p id="test"></p>
        <p id="test2"></p>
        <h3>Shape</h3>
    </div>
    <div class="section group">

        <!-- RENDER BODY -->

        <div class="container col span36" id="main-screen">
            <div id="image">
                <img src="img/Uncircumsised_2.png" />
                <div class="ui-resizable-handle ui-resizable-s" id="sgrip"></div>
                <div class="ui-resizable-handle ui-resizable-e" id="egrip"></div>
            </div>
        </div>


        <script type="text/javascript">
            $(document).ready(function () {
                /*$('#draggableHelper').draggable();*/
                var girth_size = 0;
                $('#image').resizable({
                    containment: "#container",
                    minHeight: 60,
                    minWidth: 120,
                    maxHeight: 200,
                    maxWidth: 600,
                    animate: true,
                    animateEasing: "easeOutElastic",
                    animateDuration: 400,
                    ghost: true,
                    handles: {
                        'e': '#egrip',
                        's': '#sgrip'
                    },
                    resize: function (event, ui) {
                        console.log(ui.size.height);
                        girth_size = $('#test').html(Math.round(ui.size.height * 0.4) + "mm");
                        length = $('#test2').html(Math.round(ui.size.width * 0.3) + "mm");
                    }
                });
            });
        </script>

        <!-- RENDER BODY END -->

        <div class='col span26'>
            <h3>Length</h3>
            <p id="length-val"></p>
            <div id="length-slider" class="dragdealer">
                <div class="handle red-bar value">drag me</div>
            </div>
            <h3>Girth</h3>
            <p id="girth-val"></p>
            <div id="girth-slider" class="dragdealer">
                <div class="handle red-bar value">drag me</div>
            </div>
            <h3>Circumcised</h3>
            <input type="checkbox" name="cut" value="cutornot">
            <h3>Latex allergy</h3>
            <input type="checkbox" name="allergy" value="latex">
            <h3>Tightness</h3>
            <p id="tight-val"></p>
            <div id="tight-slider" class="dragdealer">
                <div class="handle red-bar value">drag me</div>
            </div>
            <h3>Sensation</h3>
            <p id="sensation-val"></p>
            <div id="sensation-slider" class="dragdealer">
                <div class="handle red-bar value">drag me</div>
            </div>
        </div>

    </div>


</body>
<!--Drag sliders-->
<script>
    new Dragdealer('length-slider', {
        animationCallback: function (x, y) {
            $('#length-slider .value').text(Math.round(x * 100) + '%');
            $("#main-screen img").css('width', function () {
                return $('#length-val').html($('#length-slider .value').text()) + '%';
            });
        }
    });

    new Dragdealer('girth-slider', {
        animationCallback: function (x, y) {
            $('#girth-slider .value').text(Math.round(x * 100) + '%');
            var girth = $('#girth-val').html($('#girth-slider .value').text());
        }
    });
    new Dragdealer('tight-slider', {
        animationCallback: function (x, y) {
            $('#tight-slider .value').text(Math.round(x * 100) + '%');
            var tightness = $('#tight-val').html($('#tight-slider .value').text());
        }
    });
    new Dragdealer('sensation-slider', {
        animationCallback: function (x, y) {
            $('#sensation-slider .value').text(Math.round(x * 100) + '%');
            var sensation = $('#sensation-val').html($('#sensation-slider .value').text());
        }
    });
</script>

</html>
